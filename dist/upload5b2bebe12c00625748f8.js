/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./js/module.js":
/*!**********************!*\
  !*** ./js/module.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $$: () => (/* binding */ $$),\n/* harmony export */   checkSubs: () => (/* binding */ checkSubs),\n/* harmony export */   colorConcept: () => (/* binding */ colorConcept),\n/* harmony export */   createCircularLinkedList: () => (/* binding */ createCircularLinkedList),\n/* harmony export */   createQueue: () => (/* binding */ createQueue),\n/* harmony export */   getSecond: () => (/* binding */ getSecond),\n/* harmony export */   imageProcess: () => (/* binding */ imageProcess),\n/* harmony export */   owneraccount: () => (/* binding */ owneraccount),\n/* harmony export */   preventDefault: () => (/* binding */ preventDefault),\n/* harmony export */   switchScreen: () => (/* binding */ switchScreen),\n/* harmony export */   time: () => (/* binding */ time),\n/* harmony export */   update: () => (/* binding */ update)\n/* harmony export */ });\nfunction Transform(ele1, ele2, ele3) {\n    this.ele1 = ele1 // Main element\n    this.ele2 = ele2 // container\n    this.collided = false\n    this.deleted = true\n    this.x = 0\n    this.y = 0\n    this.angle = 0\n    this.w = 0\n    this.h = 0\n    const $ele2 = $(this.ele2)\n    const imgFrame = document.querySelector(this.ele2)\n    this.controllerClassName = this.ele1.substring(1) + '--controller'\n    let isRotateOffScreen = false;\n    const thisObject = this\n\n    const img = document.querySelector(this.ele1 + \" > img\")\n    let ratio = img.width / img.height\n\n    this.setRatio = function(r) {\n        ratio = r\n    }\n    \n    this.setValue = function(x, y, angle, w, h) {\n        this.x = (x !== undefined) ? x : this.x\n        this.y = (y !== undefined) ? y : this.y\n        this.angle = (angle !== undefined) ? angle : this.angle\n        this.w = (w !== undefined) ? w : this.w\n        this.h = (h !== undefined) ? h : this.h\n    }\n\n    this.exportData = function() {\n        return [this.x, this.y, this.angle, this.w, this.h]\n    }\n\n    this.isCollided = function() {\n        return this.collided\n    }\n\n    this.setIsCollided = function(is) {\n        this.collided = is\n    }\n\n    this.isDeleted = function() {\n        return this.deleted\n    }\n\n    this.setDeleted = function(is) {\n        this.deleted = is\n    }\n\n    this.css = `\n        ${this.ele1} {\n            position: absolute;\n            transform-origin: top left;\n            user-select: none;\n        }\n        ${this.ele1} > img {\n            object-fit: contain;\n            position: absolute;\n            top: 0;\n            left: 0;\n            display: block;\n            z-index: 1;\n            transform: translate(-50%, -50%)\n        }\n        .${this.controllerClassName}--container {\n            position: absolute;\n            transform-origin: top left;\n            user-select: none;\n        }\n        .${this.controllerClassName} {\n            position: absolute;\n            user-select: none;\n            border: solid 3px #6924d5;\n            z-index: 1;\n            top: 0;\n            left: 0;\n            transform: translate(-50%, -50%);\n        }\n        .${this.controllerClassName} .resize {\n            background-color: #fff;\n            width: 20px;\n            height: 20px;\n            border-radius: 50%;\n            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n            transition: all .1s linear;\n        }\n        .${this.controllerClassName} .resize.show {\n            background-color: #6924d5;\n        }\n        .${this.controllerClassName} .resize > .circle {\n            background-color: #f0f0f0a8;\n            position: absolute;\n            top: -15px;\n            left: -15px;\n            width: 50px;\n            height: 50px;\n            border-radius: 50%;\n            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n            z-index: -1;\n            visibility: hidden;\n            transition: all .1s linear;\n        }\n        .${this.controllerClassName} .resize > .circle.show {\n            visibility: visible;\n        }\n        .${this.controllerClassName} .resize.resize-topleft {\n            position: absolute;\n            top: -10px;\n            left: -10px;\n        }\n        .${this.controllerClassName} .resize.resize-topright {\n            position: absolute;\n            top: -10px;\n            right: -10px;\n        }\n        .${this.controllerClassName} .resize.resize-bottomleft {\n            position: absolute;\n            bottom: -10px;\n            left: -10px;\n        }\n        .${this.controllerClassName} .resize.resize-bottomright {\n            position: absolute;\n            bottom: -10px;\n            right: -10px;\n        }\n        .${this.controllerClassName} .rotate {\n            position: absolute;\n            top: -50px;\n            left: calc(50% - 15px);\n            width: 30px;\n            height: 30px;\n            background-color: #fff;\n            border-radius: 50%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        .${this.controllerClassName} .delete {\n            position: absolute;\n            bottom: -50px;\n            left: calc(50% + 40px);\n            width: 30px;\n            height: 30px;\n            background-color: #fff;\n            border-radius: 50%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    `\n\n    this.controllerTemplate = `\n    <div class=\"${this.controllerClassName}--container\">\n    <div class=\"${this.controllerClassName}\">\n        <div class=\"dot resize resize-topleft\"><div class=\"circle\"></div></div>\n        <div class=\"dot resize resize-topright\"><div class=\"circle\"></div></div>\n        <div class=\"dot resize resize-bottomleft\"><div class=\"circle\"></div></div>\n        <div class=\"dot resize resize-bottomright\"><div class=\"circle\"></div></div>\n        <div class=\"dot rotate\"><i class=\"fa-solid fa-rotate\"></i></div>\n        <div class=\"dot rotate shadow\" style=\"visibility: hidden;\"><i class=\"fa-solid fa-rotate\"></i></div>\n        <div class=\"dot delete\"><i class=\"fa-solid fa-trash\"></i></div>\n        <div class=\"dot delete shadow\" style=\"visibility: hidden;\"><i class=\"fa-solid fa-trash\"></i></div>\n    </div>\n    </div>\n    `\n\n    this.addController = function() {\n        $ele2.after(this.controllerTemplate)\n        thisObject.addCSSForController().handleElementGoOffScreen(\".\" + thisObject.controllerClassName + \" .rotate\", \".\" + thisObject.controllerClassName + \" .rotate.shadow\", \"rotate\").handleElementGoOffScreen(\".\" + thisObject.controllerClassName + \" .delete\", \".\" + thisObject.controllerClassName + \" .delete.shadow\", \"delete\")\n        return this\n    }\n\n    this.addCSSForController = function() {\n        const styleElement = document.createElement('style')\n        styleElement.textContent = this.css\n        document.head.appendChild(styleElement)\n        return this\n    }\n\n    this.delete = function(cb) {\n        function handleDelete(e) {\n            e.preventDefault()\n            e.stopPropagation()\n            cb()\n            thisObject.setDeleted(true)\n        }\n        $(this.ele1 + \"--controller .delete\").on(\"touchstart\", e => handleDelete(e))\n        $(this.ele1 + \"--controller .delete\").on(\"mousedown\", e => handleDelete(e))\n        return this\n    }\n\n    this.repositionElement = function(x, y) {\n        const controllerWrapper = document.querySelector(this.ele1 + '--controller--container');\n        const boxWrapper = document.querySelector(this.ele1);\n\n        boxWrapper.style.left = x + 'px';\n        boxWrapper.style.top = y + 'px';\n        controllerWrapper.style.left = (x + imgFrame.offsetLeft + 3) + 'px';\n        controllerWrapper.style.top = (y + imgFrame.offsetTop + 3) + 'px';\n    }\n\n    this.resize = function(w, h) {\n        const controller = document.querySelector(this.ele1 + '--controller');\n        const img = document.querySelector(this.ele1 + \" > img\")\n\n        controller.style.width = w + 6 + 'px';\n        controller.style.height = h + 6 + 'px';\n        img.style.width = w + 'px';\n        // img.style.height = h + 'px';\n    }\n\n    this.rotateBox = function(deg) {\n        const controllerWrapper = document.querySelector(this.ele1 + '--controller--container');\n        const boxWrapper = document.querySelector(this.ele1);\n\n        boxWrapper.style.transform = `rotate(${deg}deg)`;\n        controllerWrapper.style.rotate = `${deg}deg`;\n        controllerWrapper.querySelector(\".delete\").style.rotate = `${-deg}deg`\n    }\n\n    this.handleElementGoOffScreen = function(main, shadow, type) {\n        // This function is responsible for handling element going off the screen by moving it to the oppiste side if it disappears from the screen\n        const mainEle = document.querySelector(main);\n        const shadowEle = document.querySelector(shadow);\n        \n        const options = {\n            root: null,\n            rootMargin: \"0px\",\n            threshold: 0.1\n        }\n        \n        const callback = (entries) => {\n            entries.forEach(entry => {\n                switch(type) {\n                    case 'rotate':\n                        if(!entry.isIntersecting) {\n                            mainEle.style.top = \"auto\";\n                            mainEle.style.bottom = \"-50px\";\n                            isRotateOffScreen = true;\n                        } else {\n                            mainEle.style.bottom = \"auto\";\n                            mainEle.style.top = \"-50px\";\n                            isRotateOffScreen = false;\n                        }\n                        break\n                    case 'delete':\n                        if(!entry.isIntersecting) {\n                            mainEle.style.bottom = \"auto\";\n                            mainEle.style.top = \"-50px\";\n                        } else {\n                            mainEle.style.top = \"auto\";\n                            mainEle.style.bottom = \"-50px\";\n                        }\n                        break\n                }\n            })\n        }\n        \n        const observer = new IntersectionObserver(callback, options);\n        observer.observe(shadowEle)\n        return this\n    }\n\n    this.transform = function() {\n        const controller = document.querySelector(this.ele1 + '--controller');\n        const controllerWrapper = document.querySelector(this.ele1 + '--controller--container');\n        const boxWrapper = document.querySelector(this.ele1);\n\n        const minWidth = 40;\n        const minHeight = 40;\n\n        var initX, initY, mousePressX, mousePressY, initW, initH, initRotate;\n\n        function getCurrentRotation(el) {\n            var st = window.getComputedStyle(el, null);\n            var tm = st.getPropertyValue(\"-webkit-transform\") ||\n                st.getPropertyValue(\"-moz-transform\") ||\n                st.getPropertyValue(\"-ms-transform\") ||\n                st.getPropertyValue(\"-o-transform\") ||\n                st.getPropertyValue(\"transform\")\n            \"none\";\n            if (tm != \"none\") {\n                var values = tm.split('(')[1].split(')')[0].split(',');\n                var angle = Math.round(Math.atan2(values[1], values[0]) * (180 / Math.PI));\n                return (angle < 0 ? angle + 360 : angle);\n            }\n            return 0;\n        }\n\n        function mousedownCb(event) {\n            event.target.classList.add(\"show\")\n            event.target.querySelector(\".circle\").classList.add(\"show\")\n        }\n        \n        function mouseupCb(event) {\n            event.target.classList.remove(\"show\")\n            event.target.querySelector(\".circle\").classList.remove(\"show\")\n        }\n\n        // drag support\n        function handleDrag(event, type) {\n            event.preventDefault()\n            event.stopPropagation()\n            initX = boxWrapper.offsetLeft;\n            initY = boxWrapper.offsetTop;\n            mousePressX = (type === 'desk') ? event.clientX : event.touches[0].clientX;\n            mousePressY = (type === 'desk') ? event.clientY : event.touches[0].clientY;\n            let [,,, w, h] = thisObject.exportData()\n    \n            function eventMoveHandler(event) {\n                let x = (type === 'desk') ? event.clientX : event.touches[0].clientX\n                let y = (type === 'desk') ? event.clientY : event.touches[0].clientY\n                var posX = initX + (x - mousePressX)\n                var posY = initY + (y - mousePressY)\n                thisObject.repositionElement(posX, posY);\n                thisObject.setValue(posX - w / 2, posY - h / 2, undefined, undefined, undefined)\n            }\n    \n            if(type === 'desk') {\n                controllerWrapper.addEventListener('mousemove', eventMoveHandler, false);\n                window.addEventListener('mouseup', function eventEndHandler() {\n                    controllerWrapper.removeEventListener('mousemove', eventMoveHandler, false);\n                    window.removeEventListener('mouseup', eventEndHandler);\n                }, false);\n            } else {\n                controllerWrapper.addEventListener('touchmove', eventMoveHandler, false);\n                window.addEventListener('touchend', function eventEndHandler() {\n                    controllerWrapper.removeEventListener('touchmove', eventMoveHandler, false);\n                    window.removeEventListener('touchend', eventEndHandler);\n                }, false);\n            }\n        }\n        controllerWrapper.addEventListener('mousedown', e => handleDrag(e, 'desk'), false);\n        controllerWrapper.addEventListener('touchstart', e => handleDrag(e, 'touch'), false);\n        // done drag support\n\n        // handle resize\n        // var rightMid = document.getElementById(\"right-mid\");\n        // var leftMid = document.getElementById(\"left-mid\");\n        // var topMid = document.getElementById(\"top-mid\");\n        // var bottomMid = document.getElementById(\"bottom-mid\");\n\n        var leftTop = document.querySelector(this.ele1 + \"--controller .resize-topleft\");\n        var rightTop = document.querySelector(this.ele1 + \"--controller .resize-topright\");\n        var rightBottom = document.querySelector(this.ele1 + \"--controller .resize-bottomright\");\n        var leftBottom = document.querySelector(this.ele1 + \"--controller .resize-bottomleft\");\n\n        function resizeHandler(event, left = false, top = false, xResize = false, yResize = false, type) {\n            event.preventDefault()\n            event.stopPropagation()\n            initX = boxWrapper.offsetLeft;\n            initY = boxWrapper.offsetTop;\n            mousePressX = (type === 'desk') ? event.clientX : event.touches[0].clientX;\n            mousePressY = (type === 'desk') ? event.clientY : event.touches[0].clientY;\n\n            initW = img.offsetWidth;\n            initH = img.offsetHeight;\n\n            initRotate = getCurrentRotation(boxWrapper);\n            \n            var initRadians = initRotate * Math.PI / 180;\n            var cosFraction = Math.cos(initRadians);\n            var sinFraction = Math.sin(initRadians);\n            mousedownCb(event)\n            var vectorC = [mousePressX - initX - imgFrame.offsetLeft, mousePressY - initY - imgFrame.offsetTop]\n            function eventMoveHandler(event) {\n                var x = ((type === 'desk') ? event.clientX : event.touches[0].clientX)\n                var y = ((type === 'desk') ? event.clientY : event.touches[0].clientY)\n                var wDiff = x - mousePressX\n                var hDiff = y - mousePressY\n                var vectorD = [wDiff, hDiff]\n                const c = (vectorC[0] * vectorD[0] + vectorC[1] * vectorD[1]) / (vectorC[0] * vectorC[0] + vectorC[1] * vectorC[1])\n                var vectorH = [c * vectorC[0], c * vectorC[1]]\n                // var rotatedWDiff = cosFraction * wDiff + sinFraction * hDiff;\n                // var rotatedHDiff = cosFraction * hDiff - sinFraction * wDiff;\n                var rotatedWDiff = cosFraction * vectorH[0] + sinFraction * vectorH[1];\n                var rotatedHDiff = cosFraction * vectorH[1] - sinFraction * vectorH[0];\n                rotatedHDiff = (rotatedHDiff*rotatedWDiff > 0) ? (rotatedWDiff / ratio) : (- rotatedWDiff / ratio);\n\n                var newW = initW, newH = initH, newX = initX, newY = initY;\n\n                if (xResize) {\n                    if (left) {\n                        newW = initW - rotatedWDiff;\n                        if (newW < minWidth) {\n                        newW = minWidth;\n                        rotatedWDiff = initW - minWidth;\n                        }\n                    } else {\n                        newW = initW + rotatedWDiff;\n                        if (newW < minWidth) {\n                        newW = minWidth;\n                        rotatedWDiff = minWidth - initW;\n                        }\n                    }\n                    newX += 0.5 * rotatedWDiff * cosFraction;\n                    newY += 0.5 * rotatedWDiff * sinFraction;\n                }\n\n                if (yResize) {\n                    if (top) {\n                        newH = initH - rotatedHDiff;\n                        if (newH < minHeight) {\n                        newH = minHeight;\n                        rotatedHDiff = initH - minHeight;\n                        }\n                    } else {\n                        newH = initH + rotatedHDiff;\n                        if (newH < minHeight) {\n                        newH = minHeight;\n                        rotatedHDiff = minHeight - initH;\n                        }\n                    }\n                    newX -= 0.5 * rotatedHDiff * sinFraction;\n                    newY += 0.5 * rotatedHDiff * cosFraction;\n                }\n\n                thisObject.resize(newW, newH);\n                thisObject.repositionElement(newX, newY);\n                thisObject.setValue(newX - newW / 2, newY - newH / 2, undefined, newW, newH)\n            }\n\n            if(type === 'desk') {\n                window.addEventListener('mousemove', eventMoveHandler, false);\n                window.addEventListener('mouseup', function eventEndHandler() {\n                    mouseupCb(event)\n                    window.removeEventListener('mousemove', eventMoveHandler, false);\n                    window.removeEventListener('mouseup', eventEndHandler);\n                }, false);\n            } else {\n                window.addEventListener('touchmove', eventMoveHandler, false);\n                window.addEventListener('touchend', function eventEndHandler() {\n                    mouseupCb(event)\n                    window.removeEventListener('touchmove', eventMoveHandler, false);\n                    window.removeEventListener('touchend', eventEndHandler);\n                }, false);\n            }\n        }\n\n\n        // rightMid.addEventListener('mousedown', e => resizeHandler(e, false, false, true, false));\n        // leftMid.addEventListener('mousedown', e => resizeHandler(e, true, false, true, false));\n        // topMid.addEventListener('mousedown', e => resizeHandler(e, false, true, false, true));\n        // bottomMid.addEventListener('mousedown', e => resizeHandler(e, false, false, false, true));\n        leftTop.addEventListener('mousedown', e => resizeHandler(e, true, true, true, true, 'desk'));\n        rightTop.addEventListener('mousedown', e => resizeHandler(e, false, true, true, true, 'desk'));\n        rightBottom.addEventListener('mousedown', e => resizeHandler(e, false, false, true, true, 'desk'));\n        leftBottom.addEventListener('mousedown', e => resizeHandler(e, true, false, true, true, 'desk'));\n\n        leftTop.addEventListener('touchstart', e => resizeHandler(e, true, true, true, true, 'touch'));\n        rightTop.addEventListener('touchstart', e => resizeHandler(e, false, true, true, true, 'touch'));\n        rightBottom.addEventListener('touchstart', e => resizeHandler(e, false, false, true, true, 'touch'));\n        leftBottom.addEventListener('touchstart', e => resizeHandler(e, true, false, true, true, 'touch'));\n\n        // handle rotation\n        var rotate = document.querySelector(thisObject.ele1 + \"--controller .rotate\");\n        function handleRotate(event, type) {\n            event.preventDefault()\n            event.stopPropagation()\n    \n            initX = event.target.offsetLeft;\n            initY = event.target.offsetTop;\n            mousePressX = (type === 'desk') ? event.clientX : event.touches[0].clientX;\n            mousePressY = (type === 'desk') ? event.clientY : event.touches[0].clientY;\n    \n    \n            var arrow = document.querySelector(thisObject.ele1 + '--controller');\n            var arrowRects = arrow.getBoundingClientRect();\n            var arrowX = arrowRects.left + arrowRects.width / 2;\n            var arrowY = arrowRects.top + arrowRects.height / 2;\n    \n            const compensation = isRotateOffScreen ? 180 : 0\n\n            function eventMoveHandler(event) {\n                let x = (type === 'desk') ? event.clientX : event.touches[0].clientX\n                let y = (type === 'desk') ? event.clientY : event.touches[0].clientY\n                var angle = Math.atan2(y - arrowY, x - arrowX) + Math.PI / 2;\n                angle *= 180 / Math.PI\n                angle += compensation\n                thisObject.rotateBox(angle);\n                thisObject.setValue(undefined, undefined, angle, undefined, undefined)\n            }\n            if(type === 'desk') {\n                window.addEventListener('mousemove', eventMoveHandler, false);\n    \n                window.addEventListener('mouseup', function eventEndHandler() {\n                    window.removeEventListener('mousemove', eventMoveHandler, false);\n                    window.removeEventListener('mouseup', eventEndHandler);\n                }, false);\n            } else {\n                window.addEventListener('touchmove', eventMoveHandler, false);\n    \n                window.addEventListener('touchend', function eventEndHandler() {\n                    window.removeEventListener('touchmove', eventMoveHandler, false);\n                    window.removeEventListener('touchend', eventEndHandler);\n                }, false);\n            }\n        }\n        rotate.addEventListener('mousedown', e => handleRotate(e, 'desk'), false);\n        rotate.addEventListener('touchstart', e => handleRotate(e, 'touch'), false);\n\n        thisObject.resize(200, 200 / ratio);\n        thisObject.repositionElement(100, 100 / ratio);\n        thisObject.setValue(0, 0, 0, 200, 200 / ratio)\n        return this\n    }\n}\n\nfunction $$(ele1, ele2, ele3, ele4) {\n    if(arguments.length === 3) {\n        return new Transform(ele1, ele2, ele3)\n    }\n}\n\nfunction update() {\n    const evtSource = new EventSource('/data/update.php')\n    evtSource.onopen = function() {\n       console.log('Connection to server opened.')\n    }\n    evtSource.onerror = function() {\n       console.log('EventSource failed.')\n    }\n    evtSource.onmessage = function(event) {\n        let signal = JSON.parse(event.data)\n        if(signal != null) {\n            if(signal.isupdate == 'true') {\n                $.post(\"/admin/data/updateTech.php\")\n                if(confirm(\"Reload to see changes\")) {\n                    location.reload();\n                }\n            }\n        }\n    }\n}\n\nfunction checkSubs(isPage) {\n    $.ajax({\n        url: \"/data/checkSubs.php\",\n        method: \"GET\",\n        dataType: \"json\",\n        success: function(e) {\n            if(isPage) {\n                pageToTerminate(e.subs)\n            } else {\n                terminateToPage(e.subs)\n            }\n        }\n    })\n    function pageToTerminate(when) {\n        const d = new Date();\n        const expiration = new Date(formattingDate(when))\n        if(d.getTime() >= expiration.getTime()) {\n            window.location = \"/subsTerminated\";\n        }\n    }\n    function terminateToPage(when) {\n        const d = new Date();\n        const expiration = new Date(formattingDate(when))\n        if(d.getTime() < expiration.getTime() || when === null) {\n            window.location = \"/\";\n        }\n    }\n    function formattingDate(date) {\n        return date + \" 00:00:00\";\n    }\n}\n\nfunction colorConcept() {\n    $.get(\"/data/colorConcept.php\", function(e) {\n        document.querySelector(\":root\").style.setProperty(\"--main-color\", `${e}`);\n    })\n}\n\nfunction preventDefault() {\n    window.onload = function () {\n        document.addEventListener(\"contextmenu\", e => {\n            e.preventDefault();\n        })\n        document.onkeydown = function(e) {\n            if (e.ctrlKey || e.metaKey ) {\n                return false;\n            }\n        }\n    }\n}\n\nfunction ToggleButton(edit, del, no) {\n    this.edit = edit\n    this.del = del\n    this.no = no\n    $edit = $(this.edit)\n    $delete = $(this.del)\n    $no = $(this.no)\n\n    this.toggle = function() {\n        $edit.click(event => {\n            event.preventDefault();\n            $(event.currentTarget).parent().next().slideToggle('fast');\n        });\n    \n        $delete.click( function(event){\n            event.preventDefault();\n            $(event.currentTarget).parent().next().next().slideToggle('fast');\n            var offsetTop = $(this).offset().top;\n            $('html, body').animate({\n                scrollTop: offsetTop\n            })\n        });\n        \n        $no.click(event=>{\n            event.preventDefault();\n            $(event.currentTarget).parent().parent().slideUp('fast');\n        });\n    }\n}\n\nfunction ImageProcess() {\n    this.fileHandling = function(e, cb) {\n        const {target} = e\n        const file = target.files[0]\n        if(file) {\n            const reader = new FileReader()\n            reader.readAsDataURL(file)\n            reader.onload = function(readerEvent) {\n                const imgElement = document.createElement(\"img\")\n                imgElement.src = readerEvent.target.result\n                imgElement.onload = function(imgEvent) {\n                    cb(imgEvent.target.src)\n                }\n            }\n        }\n    }\n\n    this.createCanvas = function(width, height) {\n        const canvas = document.createElement(\"canvas\")\n        const ctx = canvas.getContext(\"2d\")\n        canvas.width = width\n        canvas.height = height\n        return [canvas, ctx]\n    }\n    \n    this.drawImage = function(e, ctx, x, y, scale, angle, canvas, containerWidth, containerHeight) {\n        const ratioX = canvas.width/containerWidth\n        const ratioY = canvas.height/containerHeight\n        let finalX = x*ratioX\n        let finalY = y*ratioY\n        let midleWidth = e.width*ratioX\n        let midleHeight = e.height*ratioY\n        let finalWidth = e.width*ratioX*scale\n        let finalHeight = e.height*ratioY*scale\n\n        ctx.save()\n        ctx.translate(finalX + midleWidth/2, finalY + midleHeight/2)\n        ctx.rotate((angle*Math.PI)/180)\n        ctx.drawImage(e, -finalWidth/2, -finalHeight/2, finalWidth, finalHeight);\n        ctx.restore()\n        const srcEncoded = ctx.canvas.toDataURL(e).split(\",\")[1]\n        return [ctx, srcEncoded]\n    }\n\n    this.drawColor = function(type, color, ctx, width, ratio) {\n        if(type === \"\") color = \"#ffffff\"\n        if(type === \"gradient\") {\n            const breakdownArr = color.split(\",\")\n            var [angle, color1, percent1, color2, percent2] = [breakdownArr[0], breakdownArr[1], breakdownArr[2], breakdownArr[3], breakdownArr[4]]\n            const radians = (angle - 180) * Math.PI / 180\n            const x0 = width / 2 + (width / 2) * Math.cos(radians - Math.PI / 2);\n            const y0 = width*ratio / 2 + (width*ratio / 2) * Math.sin(radians - Math.PI / 2);\n            const x1 = width / 2 - (width / 2) * Math.cos(radians - Math.PI / 2);\n            const y1 = width*ratio / 2 - (width*ratio / 2) * Math.sin(radians - Math.PI / 2);\n            const gradient = ctx.createLinearGradient(x0, y0, x1, y1)\n            gradient.addColorStop(percent1/100, color1)\n            gradient.addColorStop(percent2/100, color2)\n            ctx.fillStyle = gradient\n            ctx.fillRect(0, 0, width, width * ratio)\n            const srcEncoded = ctx.canvas.toDataURL().split(\",\")[1]\n            return [ctx, srcEncoded]\n        } else {\n            ctx.fillStyle = color\n            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n            const srcEncoded = ctx.canvas.toDataURL().split(\",\")[1]\n            return [ctx, srcEncoded]\n        }\n    }\n}\n\nfunction toggleButton(edit, del, no) {\n    return new ToggleButton(edit, del, no)\n}\n\nfunction imageProcess() {\n    return new ImageProcess()\n}\n\nfunction owneraccount(){\n    var $display = $(\".owner_box--block .display\").children();\n    $(\".owner_box [name='setOwner']\").click(event=>{\n        event.preventDefault();\n        var $username_box = $(\".owner_box [name='owner']\");\n        var $password_box = $(\".owner_box [name='password']\");\n        var $re_password_box = $(\".owner_box [name='re_password']\");\n        var username = $username_box.val();\n        var password = $password_box.val();\n        var re_password = $re_password_box.val();\n        if (username === '' && password === '') {\n            $(\".owner_box\").children().first().empty();\n            $(\".owner_box\").children().first().append('<p class=\"alert\">Please enter Username and Password</p>');\n            $username_box.addClass(\"errorFocusActive\");\n            $password_box.addClass(\"errorFocusActive\");\n            $re_password_box.addClass(\"errorFocusActive\");\n        } else if (username != '' && password === '') {\n            $(\".owner_box\").children().first().empty();\n            $(\".owner_box\").children().first().append('<p class=\"alert\">Please enter Password</p>');\n            $username_box.removeClass(\"errorFocusActive\");\n            $password_box.removeClass(\"errorFocusActive\");\n            $re_password_box.removeClass(\"errorFocusActive\");\n            $password_box.addClass(\"errorFocusActive\");\n            $re_password_box.addClass(\"errorFocusActive\");\n        } else if (username === '' && password != '') {\n            $(\".owner_box\").children().first().empty();\n            $(\".owner_box\").children().first().append('<p class=\"alert\">Please enter Username</p>');\n            $username_box.removeClass(\"errorFocusActive\");\n            $password_box.removeClass(\"errorFocusActive\");\n            $re_password_box.removeClass(\"errorFocusActive\");\n            $username_box.addClass(\"errorFocusActive\");\n        } else if (username != '' && password != '' && re_password === '') {\n            $(\".owner_box\").children().first().empty();\n            $(\".owner_box\").children().first().append('<p class=\"alert\">Please re-enter your password</p>');\n            $username_box.removeClass(\"errorFocusActive\");\n            $password_box.removeClass(\"errorFocusActive\");\n            $re_password_box.removeClass(\"errorFocusActive\");\n            $re_password_box.addClass(\"errorFocusActive\");\n        }\n        else {\n            if (re_password === password){\n                $.post(\"/data/setOwner.php\", {\n                    username: username,\n                    password: password\n                });\n                $(\".owner_box\").children().first().empty();\n                $(\".owner_box\").children().first().append('<p class=\"alert\">Owner Account has been set successfully</p>');\n                $username_box.removeClass(\"errorFocusActive\");\n                $password_box.removeClass(\"errorFocusActive\");\n                $re_password_box.removeClass(\"errorFocusActive\");\n                $display.eq(2).html(username);\n                $display.eq(4).html(password);\n            } else {\n                $(\".owner_box\").children().first().empty();\n                $(\".owner_box\").children().first().append('<p class=\"alert\">Your password is not matched</p>');\n                $username_box.removeClass(\"errorFocusActive\");\n                $password_box.removeClass(\"errorFocusActive\");\n                $re_password_box.removeClass(\"errorFocusActive\");\n                $password_box.addClass(\"errorFocusActive\");\n                $re_password_box.addClass(\"errorFocusActive\");\n            }\n        }\n    });\n    $.getJSON(\"/data/setOwner.php\", function(e) {\n        $display.eq(2).html(e[0].owner);\n        $display.eq(4).html(e[0].password);\n    });\n    // Hide and Show Password\n    let $pw = $(\".owner_box--block .set [name='password'], .owner_box--block .set [name='re_password']\");\n    let $eye = $(\".owner_box--block .set i\");\n    $eye.click(()=>{\n        if ($pw.attr('type') == \"password\") {\n            $pw.attr('type','text');\n            $eye.removeClass(\"active\");\n        } else {\n            $pw.attr('type','password');\n            $eye.addClass(\"active\");\n        }\n    })\n}\n\nfunction time() {\n    $(\"button[name='timeBtn']\").click(e => {\n        e.preventDefault();\n        let $fetchTimeBox = $(\".time-interval p span\")\n        let time = Number($(\"input[name='timeInterval']\").val());\n        if(Number.isInteger(time) && time > 0) {\n            $.post(\"/data/time.php\", {\n                req: time\n            }, function() {\n                $fetchTimeBox.html(time)\n            })\n        } else {\n            $fetchTimeBox.html(\"an error\")\n        }\n    })\n}\n\nfunction CircularLinkedList() {\n    // Function to create Node\n    let Node = function(data) {\n        this.data = data;\n        this.next = null;\n    }\n\n    // Below is private properties\n    let length = 0;\n    let head = null;\n    let stop = false;\n    let current;\n\n    // Set stop property\n    this.setStop = function(is) {\n        stop = is\n    }\n\n    // Get stop property\n    this.getStop = function() {\n        return stop\n    }\n\n    // Set current Node\n    this.setCurrentNode = function(Node) {\n        current = Node\n    }\n\n    // Get current Node\n    this.getCurrentNode = function() {\n        return current\n    }\n\n    // Get element at specific index\n    this.getElementAt = function(index) {\n        if(index >= 0 && index <= length) {\n            let node = head;\n            for(let i = 0; i < index && node != null; i++) {\n                node = node.next;\n            }\n            return node;\n        }\n        return undefined;\n    }\n\n    // Get element at specific filename\n    this.getElementWith = function(filename) {\n        if(filename) {\n            let current = head\n            for(let i = 0; i < this.length(); i++) {\n                if(current.data.filename === filename) {\n                    return current\n                } else {\n                    current = current.next\n                }\n            }\n            return undefined\n        }\n        return undefined\n    }\n\n    // Add new Node to the list - add to the last\n    this.add = function(data) {\n        const node = new Node(data);\n        let current;\n\n        if(head === null) {\n            head = node;\n        } else {\n            current = this.getElementAt(length - 1);\n            current.next = node;\n        }\n\n        node.next = head; // This is how a circular linked list is formed because the last node points to the head\n        length++;\n    }\n\n    // Insert new Node to the list\n    this.insert = function(data, index) {\n        if (index >= 0 && index <= length) {\n            const node = new Node(data)\n            let current = head\n\n            if(index === 0) {\n                if(head === null) {\n                    head = node\n                    node.next = head \n                } else {\n                    node.next = head\n                    current = this.getElementAt(length)\n                    head = node\n                    current.next = head\n                }\n            } else {\n                const previous = this.getElementAt(index - 1)\n                node.next = previous.next\n                previous.next = node\n            }\n\n            length++\n            return true\n        }\n        return false\n    }\n\n    // Remove element at any position\n    this.removeAt = function(index) {\n        if(index >= 0 && index <= length) {\n            let current = head\n\n            if(index === 0) {\n                if(length === 1) {\n                    head = null\n                } else {\n                    const removed = head\n                    current = this.getElementAt(length - 1)\n                    head = head.next\n                    current.next = head\n                    current = removed // You want to return what node was removed\n                }\n            } else {\n                const previous = this.getElementAt(index - 1)\n                current = previous.next\n                previous.next = current.next\n            }\n\n            length--\n            return current.data\n        }\n        return undefined\n    }\n\n    // Remove element having a specific data\n    this.removeName = function(itemName) {\n        let current = head, index = 0\n        if(length === 1) {\n            head = null\n            length--\n        } else {\n            while(true) {\n                let name = current.data.filename\n                if(name === itemName) {\n                    break\n                } else {\n                    current = current.next\n                    index++\n                    if(index === length - 1) {\n                        break\n                    }\n                }\n            }\n            this.removeAt(index)\n        }\n    }\n\n    // Get length of the linked list\n    this.length = function() {\n        return length\n    }\n\n    // Get the head node, this is the same as getting the node with index 0\n    this.headNode = function() {\n        return head\n    }\n    \n    this.removeAll = function() {\n        length = 0\n        head = null\n    }\n}\n\nfunction createCircularLinkedList() {\n    return new CircularLinkedList()\n}\n\nfunction Queue() {\n    this.current = 0\n    this.store = {}\n    // Add data to current index\n    this.add = function(data) {\n        this.current++\n        this.store[this.current] = data\n    }\n    // Return data at specified index\n    this.get = function(index) {\n        return this.store[index]\n    }\n    // Modify data at specified index\n    this.modify = function(index, data) {\n        this.store[index] = data\n    }\n    // Remove data at specified index\n    this.remove = function(index) {\n        delete this.store[index]\n    }\n    // Get current index\n    this.getCurrentIndex = function() {\n        return this.current\n    }\n}\n\nfunction createQueue() {\n    return new Queue()\n}\n\nfunction switchScreen() {\n    if ($(window).width() > 510) {\n        window.location = \"/tv\";\n    }\n}\n\nfunction getSecond() {\n    const obj = new Date()\n    return obj.getTime()\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/module.js?");

/***/ }),

/***/ "./js/preview.js":
/*!***********************!*\
  !*** ./js/preview.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detail: () => (/* binding */ detail),\n/* harmony export */   fetchImages: () => (/* binding */ fetchImages),\n/* harmony export */   initialFetch: () => (/* binding */ initialFetch),\n/* harmony export */   templeteModifier: () => (/* binding */ templeteModifier),\n/* harmony export */   theme: () => (/* binding */ theme)\n/* harmony export */ });\nlet data = {\n    color: '#fff',\n    detail: \"\",\n    direction: 0\n}\nlet themeObj = theme(), detailObj = detail()\nfunction initialFetch() {\n    $.ajax({\n        url: \"/data/theme.php\",\n        method: \"GET\",\n        dataType: \"json\",\n        success: function(e) {\n            if(e.length == -1) {\n                $(\".theme__option\").append('<p><i class=\"fa-solid fa-circle-exclamation\"></i> No Template</p>');\n                $(\".preview\").css(\"display\", \"flex\");\n                $(\".theme__option .loader\").hide();\n            } else {\n                // Function fetches Theme, Img, Logo, Bgcolor, Detail\n                function img() {\n                    return new Promise((res, rej) => {\n                        // ==================\n                        // Attention, because choose template is removed so the default template is 4\n                        if(e.length == 0) {\n                            e = [{\n                                theme: 4,\n                                bgcolor: undefined,\n                                detail: undefined,\n                                direction: 0\n                            }]\n                        }\n                        e[0].theme = 4\n                        // ==================\n                        if(e[0].bgcolor === 'null' || e[0].bgcolor === undefined) {\n                            data.color = '#fff'\n                        } else {\n                            data.color = e[0].bgcolor;\n                        }\n                        if(e[0].detail === 'null' || e[0].detail === undefined) {\n                            data.detail = \"none\";\n                        } else {\n                            data.detail = e[0].detail\n                        }\n                        if(e[0].direction === 'null' || e[0].direction === undefined) {\n                            data.direction = 0;\n                        } else {\n                            data.direction = e[0].direction\n                        }\n                        $(\".theme__option\").addClass(\"theme__option--\" + e[0].theme);\n                        themeObj.addDOM(\".theme__option .theme-data\", e[0].theme, function() {\n                            const $slider = $(\".theme__option .theme-data .slider\");\n                            const $left = $(\".theme__option .theme-data .textSlider__left\");\n                            const $right = $(\".theme__option .theme-data .textSlider__right\");\n                            $left.css(\"background-color\", data.color);\n                            $right.css(\"background-color\", data.color);\n                            data.color.includes(\"linear-gradient\") ? $slider.css({backgroundImage: data.color}) : $slider.css({backgroundColor: data.color})\n                            $(\".preview .theme-data .wave-area .parallax > use\").css(\"fill\", data.color)\n                            if(data.detail != \"none\") {\n                                detailObj.addDOM(\".theme__option #detail\", data.detail, null)\n                                detailObj.addCSS(\".theme__option #detail\", data.detail, data.direction - 90, 'admin')\n                            }\n                            $.post(\"/data/imgAdmin.php\", {\n                                req: \"single\"\n                            }, function(e) {\n                                const arrPreview = JSON.parse(e);\n                                const count = [];\n                                if(arrPreview[1] !== null) {\n                                    const ext = arrPreview[1].filename.split(\".\")[1]\n                                    if(ext.toLowerCase() === 'mp4' || ext.toLowerCase() === 'mov' || ext.toLowerCase() === 'avi') {\n                                        $slider.append('<video autoplay=\"autoplay\" muted loop playsinline src=\"upload/'+arrPreview[1].filename+'\"></video>');\n                                        $slider.children().on(\"loadeddata\", () => {\n                                            count.push(\"\");\n                                        })\n                                    } else {\n                                        $slider.append('<img src=\"/upload/'+arrPreview[1].filename+'\">');\n                                        $slider.children().on(\"load\", () => {\n                                            count.push(\"\");\n                                        })\n                                    }\n                                } else {\n                                    $slider.append('<p><i class=\"fa-solid fa-circle-exclamation\"></i> No files</p>')\n                                    count.push(\"\");\n                                }\n                                if(arrPreview[0] != null && arrPreview[0] != '0') {\n                                    $left.append('<img src=\"/img/logo/'+arrPreview[0]+'\">');\n                                    $left.children().on(\"load\", () => {\n                                        count.push(\"\");\n                                    })\n                                    $right.append('<img src=\"/img/logo/'+arrPreview[0]+'\">');\n                                    $right.children().on(\"load\", () => {\n                                        count.push(\"\");\n                                    })\n                                } else {\n                                    $left.append('<p><i class=\"fa-solid fa-circle-exclamation\"></i> No logo</p>');\n                                    $right.append('<p><i class=\"fa-solid fa-circle-exclamation\"></i> No logo</p>');\n                                    count.push(\"\", \"\");\n                                }\n                                \n                                setInterval(()=>{\n                                    if(count.length === 3) {\n                                        res();\n                                    }\n                                }, 500)\n                            });\n                        })\n                    })\n                }\n                async function imgHandler() {\n                    const response = await img();\n                    $(\".theme__option .theme-data\").addClass(\"show\");\n                    $(\".theme__option .loader\").hide();\n                }\n                imgHandler();\n            }\n        }\n    })\n}\n\n// FETCH IMAGES\nfunction fetchImages() {\n    const $imageBlock = $(\".tv__uploaded_box .image_block\");\n    $.post(\"/data/imgAdmin.php\", {\n        req: \"multi\"\n    }, function(e) {\n        const data = JSON.parse(e);\n        for(let i = 0; i < data.length; i++) {\n            const ext = data[i].filename.split(\".\")[1]\n            if(ext.toLowerCase() === 'mp4' || ext.toLowerCase() === 'mov' || ext.toLowerCase() === 'avi') {\n                $imageBlock.append('<div class=\"element\"><video autoplay=\"autoplay\" muted loop playsinline src=\"upload/'+data[i].filename+'\"></video><form action=\"\" method=\"POST\"><input type=\"hidden\" name=\"delete_img_name\" value=\"' + data[i].filename + '\"><button class=\"delete_btn\" type=\"delete\" name=\"tvdelete\"><i class=\"fa-solid fa-x\"></i></button><a class=\"download_btn\" download href=\"/upload/'+data[i].filename+'\"><i class=\"fa-solid fa-arrow-down\"></i></a></form></div>')\n            } else {\n                $imageBlock.append('<div class=\"element\"><img src=\"upload/' + data[i].filename + '\"><form action=\"\" method=\"POST\"><input type=\"hidden\" name=\"delete_img_name\" value=\"' + data[i].filename + '\"><button class=\"delete_btn\" type=\"delete\" name=\"tvdelete\"><i class=\"fa-solid fa-x\"></i></button><a class=\"download_btn\" download href=\"/upload/'+data[i].filename+'\"><i class=\"fa-solid fa-arrow-down\"></i></a></form></div>')\n            }\n        }\n        $(\".count\").html(data.length);\n        $(\".delete_btn\").on(\"click\", function(e) {\n            e.preventDefault();\n            var filename = $(this).prev().val();\n            $.post(\"/data/delete.php\", {\n                filename: filename,\n                req: 'single'\n            }, function() {\n                $imageBlock.empty();\n                $(\".submit_box .submit_box--tv\").show();\n                $(\".submit_box .reachMessage\").hide();\n                fetchImages();\n            });\n        })\n    })\n}\n\nfunction TempleteModifier(container) {\n    this.container = container\n    const thisObject = this\n    this.chosenDetail\n    this.chosenDirection\n    this.colorArray = [\"#ffffff\", \"#000000\",\"#545454\",\"#737373\",\"#a6a6a6\", \"#d9d9d9\", \"#ff1717\", \"#ff5756\",\"#fd66c3\",\"#ca6ce6\", \"#8c52fe\",\"#5d17eb\",\"#04979e\", \"#00c2cb\",\"#5ce1e6\",\"#39b5ff\", \"#5172ff\",\"#004aab\",\"#008036\", \"#7dd857\",\"#c8e265\",\"#fedd58\",\"#ffbc59\",\"#ff904e\"]\n    this.gradientArray = [\n        \"linear-gradient(160deg, #ffffff 0%, #ffffff 100%)\",\n        \"linear-gradient(223deg, #bae900 0%, #80D0C7 100%)\",\n        \"linear-gradient(225deg, #0093E9 0%, #80D0C7 100%)\",\n        \"linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%)\",\n        \"linear-gradient(0deg, #D9AFD9 0%, #97D9E1 100%)\",\n        \"linear-gradient(181deg, #e020e0 0%, #97D9E1 100%)\",\n        \"linear-gradient(90deg, #00DBDE 0%, #FC00FF 100%)\",\n        \"linear-gradient(62deg, #FBAB7E 0%, #F7CE68 100%)\",\n        \"linear-gradient(45deg, #85FFBD 0%, #FFFB7D 100%)\",\n        \"linear-gradient(135deg, #8BC6EC 0%, #9599E2 100%)\",\n        \"linear-gradient(0deg, #FFDEE9 0%, #B5FFFC 100%)\",\n        \"linear-gradient(0deg, #08AEEA 0%, #2AF598 100%)\",\n        \"linear-gradient(180deg, #52ACFF 25%, #FFE32C 100%)\",\n        \"linear-gradient(147deg, #FFE53B 0%, #FF2525 74%)\",\n        \"linear-gradient(19deg, #21D4FD 0%, #B721FF 100%)\",\n        \"linear-gradient(19deg, #3EECAC 0%, #EE74E1 100%)\",\n        \"linear-gradient(284deg, #8BC6EC 0%, #282fd6 100%)\",\n        \"linear-gradient(218deg, #ff1ef4 0%, #F7CE68 100%)\",\n        \"linear-gradient(45deg, #FBDA61 0%, #FF5ACD 100%)\",\n        \"linear-gradient(132deg, #F4D03F 0%, #16A085 100%)\",\n        \"linear-gradient(180deg, #A9C9FF 0%, #FFBBEC 100%)\",\n        \"linear-gradient(90deg, #74EBD5 0%, #9FACE6 100%)\",\n        \"linear-gradient(19deg, #FAACA8 0%, #DDD6F3 100%)\",\n        \"linear-gradient(90deg, #FAD961 0%, #F76B1C 100%)\",\n        \"linear-gradient(90deg, #FEE140 0%, #FA709A 100%)\"\n    ]\n    this.gradientBreakdown = {\n        0: [160, \"#ffffff\", 0, \"#ffffff\", 100],\n        1: [223, \"#bae900\", 0, \"#80D0C7\", 100],\n        2: [225, \"#0093E9\", 0, \"#80D0C7\", 100],\n        3: [62, \"#8EC5FC\", 0, \"#E0C3FC\", 100],\n        4: [0, \"#D9AFD9\", 0, \"#97D9E1\", 100],\n        5: [180, \"#e020e0\", 0, \"#97D9E1\", 100],\n        6: [90, \"#00DBDE\", 0, \"#FC00FF\", 100],\n        7: [62, \"#FBAB7E\", 0, \"#F7CE68\", 100],\n        8: [45, \"#85FFBD\", 0, \"#FFFB7D\", 100],\n        9: [135, \"#8BC6EC\", 0, \"#9599E2\", 100],\n        10: [0, \"#FFDEE9\", 0, \"#B5FFFC\", 100],\n        11: [0, \"#08AEEA\", 0, \"#2AF598\", 100],\n        12: [180, \"#52ACFF\", 25, \"#FFE32C\", 100],\n        13: [147, \"#FFE53B\", 0, \"#FF2525\", 74],\n        14: [19, \"#21D4FD\", 0, \"#B721FF\", 100],\n        15: [19, \"#3EECAC\", 0, \"#EE74E1\", 100],\n        16: [284, \"#8BC6EC\", 0, \"#282fd6\", 90],\n        17: [218, \"#ff1ef4\", 0, \"#F7CE68\", 100],\n        18: [45, \"#FBDA61\", 0, \"#FF5ACD\", 100],\n        19: [132, \"#F4D03F\", 0, \"#16A085\", 100],\n        20: [180, \"#A9C9FF\", 0, \"#FFBBEC\", 100],\n        21: [90, \"#74EBD5\", 0, \"#9FACE6\", 100],\n        22: [19, \"#FAACA8\", 0, \"#DDD6F3\", 100],\n        23: [90, \"#FAD961\", 0, \"#F76B1C\", 100],\n        24: [90, \"#FEE140\", 0, \"#FA709A\", 100]\n    };\n\n    this.colorTable = function() {\n        $(this.container).append(`\n            <div class=\"colorTable\"></div>\n        `)\n        let i = 0, numberOfColor = this.colorArray.length;\n        while(i < numberOfColor) {\n            document.querySelector('.colorTable').appendChild(document.createElement(\"label\"));\n            i++;\n        }\n        var label = document.querySelectorAll(\".colorTable label\");\n        for (i = 0; i < label.length; i++) {\n            label[i].appendChild(document.createElement(\"input\"));\n            label[i].appendChild(document.createElement(\"div\"));\n            label[i].classList.add(\"radio__label\");\n        }\n        var input = document.querySelectorAll(\".colorTable .radio__label input\");\n        for (i = 0; i < input.length; i++) {\n            input[i].type = \"radio\";\n            input[i].name = \"tvradio\";\n            input[i].value = this.colorArray[i];\n            input[i].classList.add(\"radio__input\");\n        }\n        var div = document.querySelectorAll(\".colorTable .radio__label div\");\n        for (i = 0; i < div.length; i++){\n            div[i].classList.add(\"radio__custom\");\n            div[i].style.backgroundColor = this.colorArray[i];\n        }\n        return this\n    }\n\n    this.gradientTable = function() {\n        $(this.container).append(`\n            <div class=\"gradientTable\"></div>\n        `)\n        let i = 0, numberOfColor = this.gradientArray.length;\n        while(i < numberOfColor) {\n            document.querySelector('.gradientTable').appendChild(document.createElement(\"label\"));\n            i++;\n        }\n        var label = document.querySelectorAll(\".gradientTable label\");\n        for (i = 0; i < label.length; i++) {\n            label[i].appendChild(document.createElement(\"input\"));\n            label[i].appendChild(document.createElement(\"div\"));\n            label[i].classList.add(\"radio__label\");\n        }\n        var input = document.querySelectorAll(\".gradientTable .radio__label input\");\n        for (i = 0; i < input.length; i++) {\n            input[i].type = \"radio\";\n            input[i].name = \"tvradio\";\n            input[i].value = i;\n            input[i].classList.add(\"radio__input\");\n        }\n        var div = document.querySelectorAll(\".gradientTable .radio__label div\");\n        for (i = 0; i < div.length; i++){\n            div[i].classList.add(\"radio__custom\");\n            div[i].style.backgroundImage = this.gradientArray[i];\n        }\n        return this\n    }\n\n    this.detailCustom = function() {\n        var detailArray = detailObj.detailName;\n        let i = 0, numberOfColor = detailArray.length;\n        $(this.container).append(`\n            <div class=\"detail-list\"></div>\n        `)\n        while(i < numberOfColor) {\n            document.querySelector('.detail-list').appendChild(document.createElement(\"label\"));\n            i++;\n        }\n        var label = document.querySelectorAll(\".detail-list label\");\n        for (i = 0; i < label.length; i++) {\n            label[i].appendChild(document.createElement(\"input\"));\n            label[i].appendChild(document.createElement(\"div\"));\n            label[i].classList.add(\"radio__label\");\n        }\n        var input = document.querySelectorAll(\".detail-list .radio__label input\");\n        for (i = 0; i < input.length; i++) {\n            input[i].type = \"radio\";\n            input[i].name = \"tvradio\";\n            input[i].value = detailArray[i];\n            input[i].classList.add(\"radio__input\");\n        }\n        var div = document.querySelectorAll(\".detail-list .radio__label div\");\n        for (i = 0; i < div.length; i++){\n            div[i].classList.add(\"radio__custom\");\n            div[i].innerHTML = '<img src=\"/img/'+detailObj.image[detailArray[i]]+'?v='+version+'\" style=\"width:100%; height: 100%;\">'\n        }\n        return this\n    }\n\n    this.detailDirection = function() {\n        var directionIcon = ['<i class=\"fa-solid fa-arrow-left\"></i>', '<i class=\"fa-solid fa-arrow-right\"></i>', '<i class=\"fa-solid fa-arrow-up\"></i>', '<i class=\"fa-solid fa-arrow-down\"></i>'];\n        var angle = [270, 90, 0, 180];\n        let i = 0, number = directionIcon.length;\n        $(this.container).append(`\n            <div class=\"detail-direction\"></div>\n        `)\n        while(i < number) {\n            document.querySelector('.detail-direction').appendChild(document.createElement(\"label\"));\n            i++;\n        }\n        var label = document.querySelectorAll(\".detail-direction label\");\n        for (i = 0; i < label.length; i++) {\n            label[i].appendChild(document.createElement(\"input\"));\n            label[i].appendChild(document.createElement(\"div\"));\n            label[i].classList.add(\"radio__label\");\n        }\n        var input = document.querySelectorAll(\".detail-direction .radio__label input\");\n        for (i = 0; i < input.length; i++) {\n            input[i].type = \"radio\";\n            input[i].name = \"detailDirection\";\n            input[i].value = angle[i];\n            input[i].classList.add(\"radio__input\");\n        }\n        var div = document.querySelectorAll(\".detail-direction .radio__label div\");\n        for (i = 0; i < div.length; i++){\n            div[i].classList.add(\"radio__custom\");\n            div[i].innerHTML = directionIcon[i];\n        }\n        const css = `\n            ${this.container} .detail-direction {\n                display: flex;\n                flex-direction: row;\n                justify-content: center;\n                align-items: center;\n                margin-top: 15px;\n            }\n            ${this.container} .detail-direction > * {\n                display: flex;\n                width: 14%;\n                aspect-ratio: 1;\n                margin: auto;\n                border-radius: 50%;\n                background-color: green;\n                color: #fff;\n                justify-content: center;\n                align-items: center;\n            }\n            ${this.container} .detail-direction .radio__custom {\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                position: relative;\n                width: 100%;\n                height: 100%;\n            }\n            ${this.container} .detail-direction .radio__custom::after {\n                content: \"\";\n                position: absolute;\n                top: -3px;\n                bottom: -3px;\n                left: -3px;\n                right: -3px;\n                display: block;\n                border-radius: 50%;\n                border: solid var(--main-color) 6px;\n                opacity: 0;\n                transition: all .3s ease-in-out;\n             }\n             ${this.container} .detail-direction .radio__input:checked + .radio__custom::after {\n                opacity: 1;\n             }\n        `\n        const styleElement = document.createElement(\"style\")\n        styleElement.textContent = css\n        document.head.appendChild(styleElement)\n        return this\n    }\n\n    this.css = `\n        ${this.container} {\n            flex-direction: column;\n            width: 80%;\n        }\n        ${this.container} .colorTable {\n            display: flex;\n            overflow-x: auto;\n            overflow-y: hidden;\n            border: 2px solid #000;\n            border-radius: 30px;\n            margin: 5px 0px 5px 0px;\n        }\n        ${this.container} .radio__label {\n            cursor: pointer;\n            padding: 1vw;\n            flex-shrink: 0;\n            overflow: hidden;\n            border-radius: 50%;\n        }\n        ${this.container} .radio__input {\n            display: none;\n         }\n         \n         ${this.container} .radio__custom {\n            width: 4vh;\n            height: 4vh;\n            border-radius: 50%;\n            cursor: pointer;\n            border: none;\n            position: relative;\n         }\n         ${this.container} .radio__custom::after {\n            content: \"\";\n            position: absolute;\n            top: -3px;\n            bottom: -3px;\n            left: -3px;\n            right: -3px;\n            display: block;\n            border-radius: 50%;\n            border: solid var(--main-color) 6px;\n            opacity: 0;\n            transition: all .3s ease-in-out;\n         }\n         ${this.container} .radio__input:checked + .radio__custom::after {\n            opacity: 1;\n         }\n         ${this.container} .detail-list {\n            display: flex;\n            overflow-x: auto;\n            overflow-y: hidden;\n            border: 2px solid #000;\n            border-radius: 30px;\n            margin: 5px 0px 5px 0px;\n         }\n         ${this.container} .gradientTable {\n            display: flex;\n            overflow-x: auto;\n            overflow-y: hidden;\n            border: 2px solid #000;\n            border-radius: 30px;\n            margin: 5px 0px 5px 0px;\n         }\n    `\n\n    this.addCSS = function() {\n        const styleElement = document.createElement(\"style\")\n        styleElement.textContent = this.css\n        document.head.appendChild(styleElement)\n        return this\n    }\n\n    this.modifyTemplateProcess = function() {\n        const $btn = $(\".template__modify--btn\")\n        const $acceptDetail = $(\".template__modify--accept--detail\")\n        const $acceptDirection = $(\".template__modify--accept--direction\")\n        const $container = $(\".template__modify--container\")\n        $btn.click(function() {\n            $(this).hide();\n            $container.css(\"display\", \"flex\")\n        })\n        $('.detail-list input[name=\"tvradio\"]').click(function() {\n            thisObject.chosenDetail = $(this).val();\n            data.detail = thisObject.chosenDetail\n            if(thisObject.chosenDetail === \"none\") {\n                $(\".theme__option #detail\").empty()\n            } else {\n                detailObj.addDOM(\".theme__option #detail\", data.detail, null)\n                detailObj.addCSS(\".theme__option #detail\", data.detail, data.direction - 90, 'admin')\n            }\n        })\n        $('.detail-direction input[name=\"detailDirection\"]').click(function() {\n            thisObject.chosenDirection = $(this).val();\n            data.direction = thisObject.chosenDirection;\n            detailObj.addCSS(\".theme__option #detail\", data.detail, data.direction - 90, 'admin');\n        })\n        $acceptDetail.click(function() {\n            $.post(\"/data/theme.php\", data, ()=>{\n                $container.hide()\n                $btn.css(\"display\", \"flex\");\n                $btn.children().html('<i class=\"fa-solid fa-circle-check\" style=\"font-size: 25px; color: green; margin-right: 5px;\"></i> Modified')\n                setTimeout(()=>{\n                    $btn.children().html('Modify Template')\n                }, 1200)\n            })\n        })\n        $acceptDirection.click(function() {\n            $.post(\"/data/theme.php\", data, ()=>{\n                $container.hide()\n                $btn.css(\"display\", \"flex\");\n                $btn.children().html('<i class=\"fa-solid fa-circle-check\" style=\"font-size: 25px; color: green; margin-right: 5px;\"></i> Modified')\n                setTimeout(()=>{\n                    $btn.children().html('Modify Template')\n                }, 1200)\n            })\n        })\n        $acceptDetail.click(function() {\n            $.post(\"/data/theme.php\", data, ()=>{\n                $container.hide()\n                $btn.css(\"display\", \"flex\");\n                $btn.children().html('<i class=\"fa-solid fa-circle-check\" style=\"font-size: 25px; color: green; margin-right: 5px;\"></i> Modified')\n                setTimeout(()=>{\n                    $btn.children().html('Modify Template')\n                }, 1200)\n            })\n        })\n        return this\n    }\n\n    this.backgroundPreviewProcess = function(preview) {\n        $('.colorTable input[name=\"tvradio\"]').click(function(){\n            const color = $(this).val()\n            $(preview).css({\n                backgroundImage: \"none\",\n                backgroundColor: color\n            })\n            $(preview).attr(\"data-type\", \"color\")\n            $(preview).attr(\"data-color\", color)\n        })\n        $('.gradientTable input[name=\"tvradio\"]').click(function(){\n            const key = $(this).val()\n            const color = thisObject.gradientArray[key]\n            const breakdown = thisObject.gradientBreakdown[key]\n            $(preview).css({\n                backgroundImage: color\n            })\n            $(preview).attr(\"data-type\", \"gradient\")\n            $(preview).attr(\"data-color\", breakdown)\n        })\n        return this\n    }\n }\n\nfunction templeteModifier(container) {\n    return new TempleteModifier(container)\n}\n\nfunction Detail() {\n    this.detailName = ['none', 'flowing', 'heart', 'shooting', 'star']\n    this.image = {\n        none: 'none.png', \n        flowing: 'flowing.png', \n        heart: 'heart.png', \n        shooting: 'shooting.png',\n        star: 'star.png'\n    }\n    this.index = {\n        flowing: `<div class=\"flowing\">\n            <span style=\"--i:10;\"></span>\n            <span style=\"--i:12;\"></span>\n            <span style=\"--i:13;\"></span>\n            <span style=\"--i:9;\"></span>\n            <span style=\"--i:10;\"></span>\n            <span style=\"--i:13;\"></span>\n        </div>`,\n        heart: `<div class=\"heart\">\n            <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"100\" height=\"100\" viewBox=\"0 0 4676.000000 4676.000000\"\n            preserveAspectRatio=\"xMidYMid meet\">\n            <g transform=\"translate(0.000000,4676.000000) scale(0.100000,-0.100000)\"\n            fill=\"pink\" stroke=\"none\">\n            <path d=\"M17308 34890 c-1031 -49 -2026 -332 -2898 -823 -1733 -978 -2967\n            -2741 -3380 -4832 -183 -931 -195 -1946 -35 -2980 150 -964 448 -2005 857\n            -2994 1123 -2722 3103 -5295 5838 -7590 1120 -940 2333 -1812 3690 -2653 568\n            -352 1433 -852 1910 -1106 l95 -50 145 80 c2656 1459 4771 2953 6610 4667 400\n            374 1046 1031 1415 1441 2378 2642 3869 5605 4249 8440 55 411 76 732 76 1180\n            0 734 -66 1280 -236 1960 -281 1124 -815 2159 -1563 3025 -121 140 -423 446\n            -571 579 -1077 966 -2384 1525 -3833 1640 -1144 91 -2196 -95 -3132 -554 -406\n            -199 -768 -435 -1136 -740 -162 -135 -576 -549 -713 -715 -562 -677 -972\n            -1417 -1248 -2252 -34 -106 -65 -193 -68 -193 -3 0 -18 44 -34 98 -101 335\n            -285 781 -465 1127 -623 1197 -1530 2112 -2642 2664 -879 437 -1858 631 -2931\n            581z m1487 -816 c-1010 -298 -2192 -920 -3185 -1675 -1481 -1125 -2690 -2612\n            -3534 -4344 -162 -332 -458 -1015 -482 -1112 -22 -88 -24 47 -3 322 99 1347\n            507 2662 1150 3712 963 1570 2436 2563 4363 2942 506 100 1117 164 1596 168\n            143 2 144 1 95 -13z\"/>\n            </g>\n            </svg>\n        </div>\n        <div class=\"heart\">\n            <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"100\" height=\"100\" viewBox=\"0 0 4676.000000 4676.000000\"\n            preserveAspectRatio=\"xMidYMid meet\">\n            <g transform=\"translate(0.000000,4676.000000) scale(0.100000,-0.100000)\"\n            fill=\"pink\" stroke=\"none\">\n            <path d=\"M17308 34890 c-1031 -49 -2026 -332 -2898 -823 -1733 -978 -2967\n            -2741 -3380 -4832 -183 -931 -195 -1946 -35 -2980 150 -964 448 -2005 857\n            -2994 1123 -2722 3103 -5295 5838 -7590 1120 -940 2333 -1812 3690 -2653 568\n            -352 1433 -852 1910 -1106 l95 -50 145 80 c2656 1459 4771 2953 6610 4667 400\n            374 1046 1031 1415 1441 2378 2642 3869 5605 4249 8440 55 411 76 732 76 1180\n            0 734 -66 1280 -236 1960 -281 1124 -815 2159 -1563 3025 -121 140 -423 446\n            -571 579 -1077 966 -2384 1525 -3833 1640 -1144 91 -2196 -95 -3132 -554 -406\n            -199 -768 -435 -1136 -740 -162 -135 -576 -549 -713 -715 -562 -677 -972\n            -1417 -1248 -2252 -34 -106 -65 -193 -68 -193 -3 0 -18 44 -34 98 -101 335\n            -285 781 -465 1127 -623 1197 -1530 2112 -2642 2664 -879 437 -1858 631 -2931\n            581z m1487 -816 c-1010 -298 -2192 -920 -3185 -1675 -1481 -1125 -2690 -2612\n            -3534 -4344 -162 -332 -458 -1015 -482 -1112 -22 -88 -24 47 -3 322 99 1347\n            507 2662 1150 3712 963 1570 2436 2563 4363 2942 506 100 1117 164 1596 168\n            143 2 144 1 95 -13z\"/>\n            </g>\n            </svg>\n        </div>\n        <div class=\"heart\">\n            <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"100\" height=\"100\" viewBox=\"0 0 4676.000000 4676.000000\"\n            preserveAspectRatio=\"xMidYMid meet\">\n            <g transform=\"translate(0.000000,4676.000000) scale(0.100000,-0.100000)\"\n            fill=\"pink\" stroke=\"none\">\n            <path d=\"M17308 34890 c-1031 -49 -2026 -332 -2898 -823 -1733 -978 -2967\n            -2741 -3380 -4832 -183 -931 -195 -1946 -35 -2980 150 -964 448 -2005 857\n            -2994 1123 -2722 3103 -5295 5838 -7590 1120 -940 2333 -1812 3690 -2653 568\n            -352 1433 -852 1910 -1106 l95 -50 145 80 c2656 1459 4771 2953 6610 4667 400\n            374 1046 1031 1415 1441 2378 2642 3869 5605 4249 8440 55 411 76 732 76 1180\n            0 734 -66 1280 -236 1960 -281 1124 -815 2159 -1563 3025 -121 140 -423 446\n            -571 579 -1077 966 -2384 1525 -3833 1640 -1144 91 -2196 -95 -3132 -554 -406\n            -199 -768 -435 -1136 -740 -162 -135 -576 -549 -713 -715 -562 -677 -972\n            -1417 -1248 -2252 -34 -106 -65 -193 -68 -193 -3 0 -18 44 -34 98 -101 335\n            -285 781 -465 1127 -623 1197 -1530 2112 -2642 2664 -879 437 -1858 631 -2931\n            581z m1487 -816 c-1010 -298 -2192 -920 -3185 -1675 -1481 -1125 -2690 -2612\n            -3534 -4344 -162 -332 -458 -1015 -482 -1112 -22 -88 -24 47 -3 322 99 1347\n            507 2662 1150 3712 963 1570 2436 2563 4363 2942 506 100 1117 164 1596 168\n            143 2 144 1 95 -13z\"/>\n            </g>\n            </svg>\n        </div>\n        <div class=\"heart\">\n            <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"100\" height=\"100\" viewBox=\"0 0 4676.000000 4676.000000\"\n            preserveAspectRatio=\"xMidYMid meet\">\n            <g transform=\"translate(0.000000,4676.000000) scale(0.100000,-0.100000)\"\n            fill=\"pink\" stroke=\"none\">\n            <path d=\"M17308 34890 c-1031 -49 -2026 -332 -2898 -823 -1733 -978 -2967\n            -2741 -3380 -4832 -183 -931 -195 -1946 -35 -2980 150 -964 448 -2005 857\n            -2994 1123 -2722 3103 -5295 5838 -7590 1120 -940 2333 -1812 3690 -2653 568\n            -352 1433 -852 1910 -1106 l95 -50 145 80 c2656 1459 4771 2953 6610 4667 400\n            374 1046 1031 1415 1441 2378 2642 3869 5605 4249 8440 55 411 76 732 76 1180\n            0 734 -66 1280 -236 1960 -281 1124 -815 2159 -1563 3025 -121 140 -423 446\n            -571 579 -1077 966 -2384 1525 -3833 1640 -1144 91 -2196 -95 -3132 -554 -406\n            -199 -768 -435 -1136 -740 -162 -135 -576 -549 -713 -715 -562 -677 -972\n            -1417 -1248 -2252 -34 -106 -65 -193 -68 -193 -3 0 -18 44 -34 98 -101 335\n            -285 781 -465 1127 -623 1197 -1530 2112 -2642 2664 -879 437 -1858 631 -2931\n            581z m1487 -816 c-1010 -298 -2192 -920 -3185 -1675 -1481 -1125 -2690 -2612\n            -3534 -4344 -162 -332 -458 -1015 -482 -1112 -22 -88 -24 47 -3 322 99 1347\n            507 2662 1150 3712 963 1570 2436 2563 4363 2942 506 100 1117 164 1596 168\n            143 2 144 1 95 -13z\"/>\n            </g>\n            </svg>\n        </div>`,\n        shooting: `<section class=\"shooting-star\">\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n        </section>`,\n        star: `<div class=\"star\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"100px\" height=\"100px\" viewBox=\"0 0 3000 3000\" style=\"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n            <g><path style=\"opacity:0.998\" fill=\"#f8d64d\" d=\"M 2047.5,801.5 C 2047.5,801.833 2047.5,802.167 2047.5,802.5C 1837.48,955.178 1627.81,1108.34 1418.5,1262C 1497.2,1506.6 1576.2,1751.1 1655.5,1995.5C 1655.17,1995.83 1654.83,1996.17 1654.5,1996.5C 1446.86,1845.36 1239.36,1694.03 1032,1542.5C 824.64,1694.03 617.14,1845.36 409.5,1996.5C 487.213,1752.52 565.713,1508.52 645,1264.5C 645.667,1263.17 645.667,1261.83 645,1260.5C 435.5,1107.67 226,954.833 16.5,802C 275.834,801.833 535.167,801.333 794.5,800.5C 873.568,556.13 952.734,311.797 1032,67.5C 1111.25,311.753 1190.42,556.086 1269.5,800.5C 1528.83,801.5 1788.17,801.833 2047.5,801.5 Z\"/></g></svg>\n        </div>\n        <div class=\"star\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"100px\" height=\"100px\" viewBox=\"0 0 3000 3000\" style=\"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n            <g><path style=\"opacity:0.998\" fill=\"#f8d64d\" d=\"M 2047.5,801.5 C 2047.5,801.833 2047.5,802.167 2047.5,802.5C 1837.48,955.178 1627.81,1108.34 1418.5,1262C 1497.2,1506.6 1576.2,1751.1 1655.5,1995.5C 1655.17,1995.83 1654.83,1996.17 1654.5,1996.5C 1446.86,1845.36 1239.36,1694.03 1032,1542.5C 824.64,1694.03 617.14,1845.36 409.5,1996.5C 487.213,1752.52 565.713,1508.52 645,1264.5C 645.667,1263.17 645.667,1261.83 645,1260.5C 435.5,1107.67 226,954.833 16.5,802C 275.834,801.833 535.167,801.333 794.5,800.5C 873.568,556.13 952.734,311.797 1032,67.5C 1111.25,311.753 1190.42,556.086 1269.5,800.5C 1528.83,801.5 1788.17,801.833 2047.5,801.5 Z\"/></g></svg>\n        </div>\n        <div class=\"star\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"100px\" height=\"100px\" viewBox=\"0 0 3000 3000\" style=\"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n            <g><path style=\"opacity:0.998\" fill=\"#f8d64d\" d=\"M 2047.5,801.5 C 2047.5,801.833 2047.5,802.167 2047.5,802.5C 1837.48,955.178 1627.81,1108.34 1418.5,1262C 1497.2,1506.6 1576.2,1751.1 1655.5,1995.5C 1655.17,1995.83 1654.83,1996.17 1654.5,1996.5C 1446.86,1845.36 1239.36,1694.03 1032,1542.5C 824.64,1694.03 617.14,1845.36 409.5,1996.5C 487.213,1752.52 565.713,1508.52 645,1264.5C 645.667,1263.17 645.667,1261.83 645,1260.5C 435.5,1107.67 226,954.833 16.5,802C 275.834,801.833 535.167,801.333 794.5,800.5C 873.568,556.13 952.734,311.797 1032,67.5C 1111.25,311.753 1190.42,556.086 1269.5,800.5C 1528.83,801.5 1788.17,801.833 2047.5,801.5 Z\"/></g></svg>\n        </div>\n        <div class=\"star\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"100px\" height=\"100px\" viewBox=\"0 0 3000 3000\" style=\"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n            <g><path style=\"opacity:0.998\" fill=\"#f8d64d\" d=\"M 2047.5,801.5 C 2047.5,801.833 2047.5,802.167 2047.5,802.5C 1837.48,955.178 1627.81,1108.34 1418.5,1262C 1497.2,1506.6 1576.2,1751.1 1655.5,1995.5C 1655.17,1995.83 1654.83,1996.17 1654.5,1996.5C 1446.86,1845.36 1239.36,1694.03 1032,1542.5C 824.64,1694.03 617.14,1845.36 409.5,1996.5C 487.213,1752.52 565.713,1508.52 645,1264.5C 645.667,1263.17 645.667,1261.83 645,1260.5C 435.5,1107.67 226,954.833 16.5,802C 275.834,801.833 535.167,801.333 794.5,800.5C 873.568,556.13 952.734,311.797 1032,67.5C 1111.25,311.753 1190.42,556.086 1269.5,800.5C 1528.83,801.5 1788.17,801.833 2047.5,801.5 Z\"/></g></svg>\n        </div>`\n    }\n    this.css = function(container, detail, directionStr, type) {\n        let direction = parseInt(directionStr)\n        let zIndex = 10\n        let parentWidth = $(container).parent().width()\n        let parentHeight = $(container).parent().height()\n        let width, height, x, y\n        if(type === 'admin') {\n            width = parentHeight + 'px'\n            height = parentWidth + 'px'\n            x = - (parentHeight - parentWidth) / 2;\n            y = (parentHeight - parentWidth) / 2;\n        } else {\n            width = '100%'\n            height = '100%'\n            x = '0';\n            y = '0';\n        }\n        const detailList = {\n            flowing: `${container} {\n                position: absolute;\n                left: ${x}px;\n                top: ${y}px;\n                z-index: ${zIndex};\n                display: flex;\n                flex-direction: column;\n                justify-content: space-evenly;\n                height: ${height};\n                width: ${width};\n                rotate: calc(${direction}deg);\n            }\n            ${container} .flowing {\n                overflow: hidden;\n                width: 100%;\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n            ${container} .flowing span {\n                position: relative;\n                width: 0;\n                height: 17%;\n                padding-left: 16.67vh;\n                background: #4fc3dc;\n                border-radius: 50%;\n                box-shadow: 0 0 0 10px #4fc3cd44, 0 0 50px #4fc3dc, 0 0 100px #4fc3dc; \n                animation: flowing 15s linear infinite;\n                animation-duration: calc(125s / var(--i));\n                opacity: .7;\n            }\n            ${container} .flowing span:nth-child(even) {\n                background: #ff2d75;\n                box-shadow: 0 0 0 10px #ff2d7544, 0 0 50px #ff2d75, 0 0 100px #ff2d75;\n            }\n            @keyframes flowing {\n                0% {\n                    transform: translateX(100%) scale(0);\n                }\n                100% {\n                    transform: translateX(500%) scale(1);\n                }\n            }`,\n            heart: `${container} {\n                position: absolute;\n                left: ${x}px;\n                top: ${y}px;\n                z-index: ${zIndex};\n                display: flex;\n                flex-direction: column;\n                justify-content: space-evenly;\n                height: ${height};\n                width: ${width};\n                rotate: calc(${direction}deg);\n            }\n            ${container} .heart g {\n                fill: #ff018c;\n            }\n            ${container} .heart:nth-child(1) {\n                animation: one 5s cubic-bezier(0.47, 0.17, 0.53, 0.81) infinite forwards;\n                rotate: calc(12deg);\n            }\n            ${container} .heart:nth-child(2) {\n                animation: two 6s cubic-bezier(0.47, 0.17, 0.53, 0.81) infinite forwards;\n                rotate: calc(20deg);\n            }\n            ${container} .heart:nth-child(3) {\n                animation: three 7s cubic-bezier(0.47, 0.17, 0.53, 0.81) infinite forwards;\n                rotate: calc(-10deg);\n            }\n            ${container} .heart:nth-child(4) {\n                animation: four 8s cubic-bezier(0.47, 0.17, 0.53, 0.81) infinite forwards;\n                rotate: calc(2deg);\n            }\n            @keyframes one {\n                0% {\n                    transform: translate(-10%, 0%);\n                }\n                50% {\n                    transform: translate(40%, 10%);\n                    opacity: .8;\n                }\n                100% {\n                    transform: translate(100%, 0%);\n                    opacity: .5;\n                }\n            }\n            @keyframes two {\n                0% {\n                    transform: translate(-6%, 0%);\n                }\n                50% {\n                    transform: translate(45%, 10%);\n                }\n                100% {\n                    transform: translate(100%, 0%);\n                }\n            }\n            @keyframes three {\n                0% {\n                    transform: translate(-10%, 0%);\n                }\n                50% {\n                    transform: translate(48%, -20%);\n                    opacity: .8;\n                }\n                100% {\n                    transform: translate(100%, 0%);\n                    opacity: .5;\n                }\n            }\n            @keyframes four {\n                0% {\n                    transform: translate(-8%, 0%);\n                }\n                50% {\n                    transform: translate(42%, 30%);\n                }\n                100% {\n                    transform: translate(100%, 0%);\n                }\n            }`,\n            shooting: `${container} {\n                position: absolute;\n                left: ${x}px;\n                top: ${y}px;\n                z-index: ${zIndex};\n                display: flex;\n                flex-direction: column;\n                justify-content: space-evenly;\n                height: ${height};\n                width: ${width};\n                rotate: calc(${direction}deg);\n            }\n            ${container} .shooting-star {\n                width: 100%;\n                height: 100%;\n            }\n            ${container} .shooting-star span {\n                position: absolute;\n                height: 1%;\n                width: 0;\n                padding-left: 1.6875%;\n                background: #fff;\n                border-radius: 50%;\n                box-shadow: 0 0 0 4px rgba(255, 255,255,0.1), 0 0 0 8px rgba(255,255,255,0.1), 0 0 20px rgba(255,255,255, 1);\n                animation: animate 3s linear infinite;\n                rotate: calc(45deg);\n            }\n            ${container} .shooting-star span::before {\n                content: '';\n                position: absolute;\n                top: 50%;\n                height: 2px;\n                width: 322px;\n                background: linear-gradient(90deg, #fff, transparent);\n            }\n            @keyframes animate {\n                0% {\n                    transform: translateX(0);\n                    opacity: 0;\n                }\n                30% {\n                    opacity: 1;\n                }\n                70% {\n                    opacity: 1;\n                }\n                100% {\n                    transform: translateX(-100vw);\n                    opacity: 0;\n                }\n            }\n            ${container} .shooting-star span:nth-child(1) {\n                right: 0;\n                bottom: 0;\n                animation-delay: 0s;\n                animation-duration: 1s;\n            }\n            ${container} .shooting-star span:nth-child(2) {\n                right: 0;\n                bottom: 0;\n                animation-delay: -.2s;\n                animation-duration: 3s;\n            }\n            ${container} .shooting-star span:nth-child(3) {\n                right: 80px;\n                bottom: 0;\n                animation-delay: .4s;\n                animation-duration: 2s;\n            }\n            ${container} .shooting-star span:nth-child(4) {\n                right: 0;\n                bottom: 180px;\n                animation-delay: .6s;\n                animation-duration: 1.5s;\n            }\n            ${container} .shooting-star span:nth-child(5) {\n                right: 400px;\n                bottom: 180px;\n                animation-delay: .6s;\n                animation-duration: 1.5s;\n            }\n            ${container} .shooting-star span:nth-child(6) {\n                right: 700px;\n                bottom: 120px;\n                animation-delay: .2s;\n                animation-duration: 4s;\n            }\n            ${container} .shooting-star span:nth-child(7) {\n                right: 0;\n                bottom: 180px;\n                animation-delay: .6s;\n                animation-duration: 1.5s;\n            }`,\n            star: `${container} {\n                position: absolute;\n                left: ${x}px;\n                top: ${y}px;\n                z-index: ${zIndex};\n                display: flex;\n                flex-direction: column;\n                justify-content: space-evenly;\n                height: ${height};\n                width: ${width};\n                rotate: calc(${direction}deg);\n            }\n            ${container} .star:nth-child(1) {\n                animation: one 5s cubic-bezier(0.47, 0.17, 0.53, 0.81) infinite forwards;\n            }\n            ${container} .star:nth-child(2) {\n                animation: two 6s cubic-bezier(0.47, 0.17, 0.53, 0.81) infinite forwards;\n            }\n            ${container} .star:nth-child(3) {\n                animation: three 7s cubic-bezier(0.47, 0.17, 0.53, 0.81) infinite forwards;\n            }\n            ${container} .star:nth-child(4) {\n                animation: four 8s cubic-bezier(0.47, 0.17, 0.53, 0.81) infinite forwards;\n            }\n            @keyframes one {\n                0% {\n                    transform: translate(-10%, 0px);\n                }\n                50% {\n                    transform: translate(40%, 10%);\n                    opacity: .8;\n                }\n                100% {\n                    transform: translate(100%, 0%);\n                    opacity: .5;\n                }\n            }\n            @keyframes two {\n                0% {\n                    transform: translate(-6%, 0%);\n                }\n                50% {\n                    transform: translate(45%, 10%);\n                }\n                100% {\n                    transform: translate(100%, 0%);\n                }\n            }\n            @keyframes three {\n                0% {\n                    transform: translate(-10%, 0%);\n                }\n                50% {\n                    transform: translate(48%, -20%);\n                    opacity: .8;\n                }\n                100% {\n                    transform: translate(100%, 0%);\n                    opacity: .5;\n                }\n            }\n            @keyframes four {\n                0% {\n                    transform: translate(-8%, 0%);\n                }\n                50% {\n                    transform: translate(42%, 25%);\n                }\n                100% {\n                    transform: translate(100%, 0%);\n                }\n            }`\n        }\n        return detailList[detail]\n    }\n\n    this.addDOM = function(container, detail, cb) {\n        $(container).html(this.index[detail])\n        $(container).ready(cb)\n    }\n\n    this.addCSS = function(container, detail, direction, type) {\n        const styleElement = document.createElement(\"style\")\n        styleElement.textContent = this.css(container, detail, direction, type)\n        document.head.appendChild(styleElement)\n    }\n\n    this.numofdetail = function() {\n        return this.detailName.length\n    }\n}\n\nfunction detail() {\n    return new Detail()\n}\n\nfunction Theme() {\n    this.index = {\n        1: `<div class=\"textSlider__left\"></div>\n        <div class=\"slider\"></div>\n        <div class=\"textSlider__right\"></div>`,\n        2: `<div class=\"textSlider__left\">\n                <div class=\"wave-area\">\n                    <svg class=\"waves\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 24 150 28\" preserveAspectRatio=\"none\" shape-rendering=\"auto\">\n                        <defs>\n                            <path id=\"gentle-wave\" d=\"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z\"></path>\n                        </defs>\n                        <g class=\"parallax\">\n                            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"0\" fill=\"\"></use>\n                            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"3\" fill=\"\"></use>\n                            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"5\" fill=\"\"></use>\n                            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"7\" fill=\"\"></use>\n                        </g>\n                    </svg>\n                </div>\n            </div>\n            <div class=\"slider\"></div>\n            <div class=\"textSlider__right\"></div>`,\n        3: `<div class=\"textSlider__left\">\n                <div class=\"wave-area\">\n                    <svg class=\"waves\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 24 150 28\" preserveAspectRatio=\"none\" shape-rendering=\"auto\">\n                        <defs>\n                            <path id=\"gentle-wave\" d=\"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z\"></path>\n                        </defs>\n                        <g class=\"parallax\">\n                            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"0\" fill=\"\"></use>\n                            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"3\" fill=\"\"></use>\n                            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"5\" fill=\"\"></use>\n                            <use xlink:href=\"#gentle-wave\" x=\"48\" y=\"7\" fill=\"\"></use>\n                        </g>\n                    </svg>\n                </div>\n            </div>\n            <div class=\"slider\"></div>\n            <div class=\"textSlider__right\"></div>`,\n        4: `<div class=\"textSlider__left\"></div>\n            <div class=\"slider\"></div>\n            <div class=\"textSlider__right\"></div>`\n    }\n    this.css = {\n        1: `:root {\n            --height: 0px;\n            --width: 0px;\n         }\n         #tvScreen {\n         background-color: #fff;\n         display: flex;\n         height: 100vh;\n         overflow: hidden;\n         }\n         /* ========== TV TEXT =========== */\n         .textSlider__left, .textSlider__right {\n             flex: 1;\n             overflow: hidden;\n             padding: 20px;\n             display: flex;\n             justify-content: center;\n             align-items: center;\n             z-index: 9;\n         }\n         .textSlider__left img, .textSlider__right img {\n             height: 100%;\n             width: 100%;\n         }\n         .textSlider__left canvas {\n             position: absolute;\n             z-index: 10;\n         }\n        .slider {\n            flex: 7;\n            position: relative;\n            z-index: 8;\n        }\n        .slide {\n            /* object-fit: cover; */\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            transition: opacity 1s ease-in-out;\n         }\n        .slide canvas {\n            object-fit: cover;\n            /* position: absolute; */\n            width: 100%;\n            height: 100%;\n            /* transition: opacity 1s ease-in-out; */\n         }\n        .slider video {\n            rotate: z 90deg;\n            scale: 1.5;\n            width: 100%;\n            height: 100%;\n        }\n         .slide.current {\n            opacity: 1;\n         }`,\n        2: `:root {\n            --height: 0px;\n            --width: 0px;\n         }\n        #tvScreen {\n         background-color: #fff;\n         display: flex;\n         height: 100vh;\n         overflow: hidden;\n         }\n         /* ========== TV TEXT =========== */\n        .textSlider__left, .textSlider__right{\n             flex: 1;\n             overflow: hidden;\n             padding: 20px;\n             display: flex;\n             justify-content: center;\n             align-items: center;\n             z-index: 9;\n         }\n        .textSlider__left img, .textSlider__right img {\n             height: 100%;\n             width: 100%;\n         }\n         \n        .textSlider__left canvas {\n            position: absolute;\n            z-index: 10;\n        }\n        .slider {\n            flex: 7;\n            position: relative;\n            z-index: 8;\n        }\n        .slide {\n            /* object-fit: cover; */\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            transition: opacity 1s ease-in-out;\n         }\n        .slide canvas {\n            object-fit: cover;\n            /* position: absolute; */\n            width: 100%;\n            height: 100%;\n            /* transition: opacity 1s ease-in-out; */\n         }\n        .slider video {\n            rotate: z 90deg;\n            scale: 1.5;\n            width: 100%;\n            height: 100%;\n        }\n        .slide.current {\n           opacity: 1;\n        }\n        .wave-area {\n            position: absolute;\n            width: 100vh;\n            z-index: 9;\n            transform: rotate(90deg) translateY(-140px);\n        }\n        .parallax > use {\n            animation: move 8s linear infinite forwards;\n        }\n        .parallax > use:nth-child(2) {\n            animation-delay: -7s;\n            animation-duration: 7s;\n            opacity: .5;\n        }\n        .parallax > use:nth-child(3) {\n            animation-delay: -5s;\n            animation-duration: 9s;\n            opacity: .2;\n        }\n        .parallax > use:nth-child(4) {\n            animation-delay: -2s;\n            animation-duration: 4s;\n            opacity: .7;\n        }\n        @keyframes move {\n            0% {\n                transform: translateX(-90px);\n            }\n            100% {\n                transform: translateX(85px);\n            }\n        }`,\n        3: `:root {\n            --height: 0px;\n            --width: 0px;\n            }\n            #tvScreen {\n            background-color: #fff;\n            display: flex;\n            height: 100vh;\n            overflow: hidden;\n            }\n            /* ========== TV TEXT =========== */\n            .textSlider__left, .textSlider__right {\n                flex: 1;\n                overflow: hidden;\n                padding: 20px;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                z-index: 9;\n            }\n            .textSlider__left img, .textSlider__right img {\n                height: 100%;\n                width: 100%;\n            }\n            .textSlider__left canvas {\n                position: absolute;\n                z-index: 10;\n            }\n            .slider {\n               flex: 7;\n               position: relative;\n               z-index: 8;\n            }\n            .slide {\n               /* object-fit: cover; */\n               position: absolute;\n               width: 100%;\n               height: 100%;\n               opacity: 0;\n               transition: opacity 1s ease-in-out;\n            }\n            .slide canvas {\n               object-fit: cover;\n               /* position: absolute; */\n               width: 100%;\n               height: 100%;\n               /* transition: opacity 1s ease-in-out; */\n            }\n            .slider video {\n               rotate: z 90deg;\n               scale: 1.7;\n               width: 100%;\n               height: 100%;\n            }\n            .slide.current {\n               opacity: 1;\n            }\n            .textSlider__left {\n                position: absolute;\n                height: 100vh;\n                width: 200px;\n                z-index: 9;\n                opacity: .8;\n                overflow: initial;\n            }\n            .wave-area {\n                position: absolute;\n                width: 100vh;\n                z-index: 9;\n                transform: rotate(90deg) translateY(-100px);\n            }\n            .parallax > use {\n                animation: move 8s linear infinite forwards;\n            }\n            .parallax > use:nth-child(2) {\n                animation-delay: -7s;\n                animation-duration: 7s;\n                opacity: .5;\n            }\n            .parallax > use:nth-child(3) {\n                animation-delay: -5s;\n                animation-duration: 9s;\n                opacity: .2;\n            }\n            .parallax > use:nth-child(4) {\n                animation-delay: -2s;\n                animation-duration: 4s;\n                opacity: .7;\n            }\n            @keyframes move {\n                0% {\n                    transform: translateX(-90px);\n                }\n                100% {\n                    transform: translateX(85px);\n                }\n            }`,\n            4: `:root {\n                --height: 0px;\n                --width: 0px;\n                }\n                #tvScreen {\n                background-color: #fff;\n                display: flex;\n                height: 100vh;\n                overflow: hidden;\n                }\n                /* ========== TV TEXT =========== */\n                .textSlider__left, .textSlider__right {\n                    display: none;\n                }\n                .slider {\n                    flex: 7;\n                    position: relative;\n                    z-index: 8;\n                }\n                .slide {\n                    /* object-fit: cover; */\n                    position: absolute;\n                    width: 100%;\n                    height: 100%;\n                    opacity: 0;\n                    transition: opacity 1s ease-in-out;\n                 }\n                .slide canvas {\n                    object-fit: cover;\n                    /* position: absolute; */\n                    width: 100%;\n                    height: 100%;\n                    /* transition: opacity 1s ease-in-out; */\n                 }\n                .slider video {\n                    rotate: z 90deg;\n                    scale: 2;\n                    width: 100%;\n                    height: 100%;\n                }\n                 .slide.current {\n                    opacity: 1;\n                 }`\n    }\n\n    this.addDOM = function(DOM, theme, cb) {\n        $(DOM).html(this.index[theme])\n        $(DOM).ready(cb)\n    }\n\n    this.addCSS = function(theme) {\n        const styleElement = document.createElement(\"style\")\n        styleElement.textContent = this.css[theme]\n        document.head.appendChild(styleElement)\n    }\n\n    this.numoftheme = function() {\n        return Object.keys(this.index).length\n    }\n}\n\nfunction theme() {\n    return new Theme()\n}\n\n\n\n//# sourceURL=webpack://htdocs/./js/preview.js?");

/***/ }),

/***/ "./js/upload.js":
/*!**********************!*\
  !*** ./js/upload.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./module.js */ \"./js/module.js\");\n/* harmony import */ var _preview_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./preview.js */ \"./js/preview.js\");\nconst uploadingArea = document.getElementById(\"uploadingArea\")\nconst fileInputTv = document.querySelector(\"#tvinpFile\")\nconst bar = document.querySelector(\"#uploadingArea progress\")\nconst progressLabel = document.querySelector(\"#uploadingArea label\")\nconst signatureInput = document.querySelector(\"#preview .preview__btnArea input\")\nconst previewImg = document.querySelector(\"#preview .preview__imgArea--img\")\nconst previewSignature = document.querySelector(\"#preview .preview__signatureArea--img\")\nconst background = document.querySelector(\".background-preview\")\nconst previewFrame = document.querySelector('#preview .preview__imgArea')\n;\n\n\n// SHOW FORM\ndocument.querySelector(\".submit_box form\").onclick = function() {\n    document.querySelector(\"#tvinpFile\").click();\n}\n$(\"#preview .preview__btn--add\").click(function() {\n    $(this).next().click()\n})\n$(\"#preview .preview__btn--cancel\").click(function() {\n    location.reload()\n}\n)\n\nconst imgProcess = (0,_module_js__WEBPACK_IMPORTED_MODULE_0__.imageProcess)()\n\nfileInputTv.onchange = (e) => {\n    let file = e.target.files[0];\n    if(file) {\n        const name = file.name\n        const ext = name.split(\".\")[1]\n        if (ext.toLowerCase() === 'mp4' || ext.toLowerCase() === 'mov' || ext.toLowerCase() === 'avi') {\n            var URL = window.URL || window.webkitURL\n            var video = document.createElement(\"video\")\n            var fileURL = URL.createObjectURL(file)\n            video.src = fileURL\n            video.addEventListener(\"loadeddata\", function() {\n                let duration = video.duration\n                if(duration > maxVideoDuration) {\n                    alert(\"Your video should be less than \" + maxVideoDuration + \" seconds\")\n                } else {\n                    uploadingArea.classList.add(\"active\");\n                    uploadFileTv(file, 'mp4', 'video', duration)\n                }\n            })\n        } else {\n            imgProcess.fileHandling(e, function(src) {\n                const obj = {}\n                $(\"#preview\").css(\"display\", \"flex\")\n                $(\"body\").css({\n                    overflow: 'hidden',\n                    touchAction: 'none'\n                })\n                previewImg.src = src\n                obj.previewImg = (0,_module_js__WEBPACK_IMPORTED_MODULE_0__.$$)(\".preview__imgArea--wrapper\", \".preview__imgArea\", undefined).addController().transform().delete(function() {\n                    $(\".preview__imgArea--wrapper\").hide()\n                    $(\".preview__imgArea--wrapper--controller--container\").hide()\n                })\n                obj.previewImg.setDeleted(false)\n\n                obj.previewSignature = (0,_module_js__WEBPACK_IMPORTED_MODULE_0__.$$)(\".preview__signatureArea--wrapper\", \".preview__imgArea\", undefined).addController().transform().delete(function() {\n                    $(\".preview__signatureArea--wrapper\").hide()\n                    $(\".preview__signatureArea--wrapper--controller--container\").hide()\n                })\n                obj.previewSignature.setDeleted(true)\n\n                signatureInput.onchange = (e) => {\n                    const file = e.target.files[0]\n                    if(file) {\n                        imgProcess.fileHandling(e, function(src) {\n                            previewSignature.src = src\n                            let ratio = previewSignature.width / previewSignature.height\n                            obj.previewSignature.setDeleted(false)\n                            obj.previewSignature.resize(200, 200 / ratio)\n                            obj.previewSignature.repositionElement(100, 100 / ratio)\n                            obj.previewSignature.rotateBox(0)\n                            obj.previewSignature.setRatio(ratio)\n                            obj.previewSignature.setValue(0, 0, 0, 200, 200 / ratio)\n                            $(\".preview__signatureArea--wrapper\").show()\n                            $(\".preview__signatureArea--wrapper--controller--container\").show()\n                        })\n                    }\n                }\n                $(\"#preview .preview__btn--upload\").click(function() {\n                    // Get outer image dimensions\n                    const [imgX, imgY, imgAngle] = obj.previewImg.exportData()\n\n                    // Get signature dimensions\n                    const [sX, sY, sAngle] = obj.previewSignature.exportData()\n\n                    // create canvas\n                    const ratio = 16/9\n                    const width = 1200\n                    var [canvas, ctx] = imgProcess.createCanvas(width, ratio*width)\n                    \n                    // Get color or gradient color\n                    const typeOfBackground = background.getAttribute(\"data-type\")\n                    const valueOfBackground = background.getAttribute(\"data-color\")\n                    let [ctxReturned, srcEncoded] = imgProcess.drawColor(typeOfBackground, valueOfBackground, ctx, width, ratio)\n\n                    // Draw image if it is not deleted\n                    if(!obj.previewImg.isDeleted()) {\n                        // draw outer image on canvas\n                        [ctxReturned, srcEncoded] = imgProcess.drawImage(previewImg, ctxReturned, imgX, imgY, 1, imgAngle, canvas, $(\".preview__imgArea\").width(), $(\".preview__imgArea\").height())\n                    }\n\n                    // Draw signature if it is not deleted\n                    if(!obj.previewSignature.isDeleted()) {\n                        [ctxReturned ,srcEncoded] = imgProcess.drawImage(previewSignature, ctxReturned, sX, sY, 1, sAngle, canvas, $(\".preview__imgArea\").width(), $(\".preview__imgArea\").height())\n                    }\n\n                    uploadFileTv(srcEncoded, 'jpg', 'image', undefined)\n                    $(\"#preview\").hide()\n                    uploadingArea.classList.add(\"active\")\n                })\n            })\n        }\n    }\n}\nfunction uploadFileTv(src, ext, type, duration) {\n    let d = new Date()\n    let uploadDataConfig = {\n        filename: d.getTime() + \".\" + ext,\n        body: src,\n        duration: duration,\n        ImgContentType: 'application/json',\n        VideoContentType: false,\n        ImgUrl: '/data/imgupload.php',\n        VideoUrl: '/data/videoupload.php'\n    }\n    let data, contentType, url\n    if(type === 'image') {\n        url = uploadDataConfig.ImgUrl\n        data = JSON.stringify({\n            body: uploadDataConfig.body,\n            name: uploadDataConfig.filename\n        })\n        contentType = uploadDataConfig.ImgContentType\n    } else {\n        url = uploadDataConfig.VideoUrl\n        const formData = new FormData();\n        formData.append(\"tvinpFile\", uploadDataConfig.body)\n        formData.append(\"duration\", Math.floor(uploadDataConfig.duration)+1)\n        formData.append(\"filename\", uploadDataConfig.filename)\n        data = formData\n        contentType = uploadDataConfig.VideoContentType\n    }\n    $.ajax({\n        url: url,\n        method: \"POST\",\n        data: data,\n        contentType: contentType,\n        processData: false,\n        xhr: function() {\n            var xhr = $.ajaxSettings.xhr()\n            xhr.upload.onprogress = function(e) {\n                if(e.lengthComputable) {\n                    let fileLoaded = Math.floor((e.loaded/e.total)*100);\n                    bar.value = fileLoaded; \n                    if (e.loaded == e.total) {\n                        bar.style.display = \"none\";\n                        progressLabel.innerHTML = `<p>Loading...<p></br>`;\n                    } else {\n                        progressLabel.innerHTML = `<p>Please wait</p></br><p>${fileLoaded} %</p></br>`;\n                    }\n                }\n\n            }\n            return xhr\n        },\n        success: function() {\n            location.reload()\n        }\n    })\n}\n\nfunction reachMultiImgMax() {\n    if(currentImg === multiImgMax) {\n        $(\".submit_box .submit_box--tv\").hide();\n        $(\".submit_box .reachMessage\").css(\"display\", \"flex\");\n    }\n}\nreachMultiImgMax();\n\n//# sourceURL=webpack://htdocs/./js/upload.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./js/upload.js");
/******/ 	
/******/ })()
;